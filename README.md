# The Monitor

---

## üåü Introduction

The Monitor is a **compact and versatile device** designed to monitor pulse, movement, and health-related events. It incorporates advanced sensors to measure heart rate and activity levels, making it highly useful for:

- **üèãÔ∏è Fitness Enthusiasts**
- **üìÑ Older Individuals**
- **‚ù§Ô∏è People at Risk of Heart Conditions**

With the integration of an ECG sensor module (AD8232), crash detection mechanisms, and alert features, The Monitor provides proactive health tracking. It functions similarly to a **Holter monitor**, offering continuous monitoring in a portable format.

---

## üîç General Description

### üìú Block Diagram

![Flowcharts](https://github.com/user-attachments/assets/6d024103-adf2-4b0b-b3ed-f9cdc99bb94f)
### AD8232 ESP32 Connection
![Blank diagram](https://github.com/user-attachments/assets/f2a88a64-946d-4a47-884b-bd35f8c5d4d3)

The Monitor combines lightweight, wearable hardware with intuitive software to:

- Collect
- Analyze
- Display health and activity data

### Benefits

| Beneficiary          | Benefit                              |
|----------------------|--------------------------------------|
| **Older Adults**     | Fall and irregular heart activity monitoring |
| **Heart Patients**   | Alerts for unsafe heart rate levels |
| **Fitness Enthusiasts** | Real-time activity tracking        |

---

## ‚öôÔ∏è Hardware Design

### üì¶ Components

| Component                   | Quantity | Purpose                                              |
|-----------------------------|----------|------------------------------------------------------|
| **RGB LED**                 | 1        | Indicates status                                    |
| **ESP32**                   | 1        | Microcontroller for data processing and system control |
| **ECG Sensor Module (AD8232)** | 1        | Captures real-time heart activity                   |
| **Accelerometer (MPU6050)** | 1        | Tracks motion to identify activity and falls         |
| **Display (LCD)**           | 1        | Shows heart rate, activity levels, and alerts       |
| **Buzzer**                  | 1        | Audible alerts for abnormal events                 |
| **Battery**                 | 1        | Lightweight power source                            |
| **Resistors**               | 3        | Stabilizes circuit operation                       |
| **Breadboard or PCB**       | 2        | Compact circuit assembly                           |
| **Jumper Wires**            | 20       | Connects components                                |
| **3D-Printed Case**         | 1        | Protects components                                |

### üîß Assembly

- **Mount Components**: Secure components on a breadboard.
- **Optimize Placement**: Position ECG sensor and accelerometer for accurate readings.

---

## üíª Software Design

Developed using **Arduino IDE**, leveraging libraries for sensor integration.

### Key Features

1. **Data Collection**: Reads real-time signals from ECG sensor and accelerometer.
2. **Signal Processing**: Filters noise for accurate readings.
3. **Threshold Detection**: Alerts for predefined heart rate limits.
4. **Fall Detection**: Identifies abrupt motion changes.
5. **User Interface**: Displays:
   - Heart rate
   - Alerts
   - Status messages

### üö® Alert System

| Condition           | Action                  |
|---------------------|-------------------------|
| **Low Heart Rate**  | Trigger buzzer tone     |
| **High Heart Rate** | Trigger distinct tone   |
| **Fall Detected**   | Continuous buzzer sound |

---

## ‚öïÔ∏è How the R-R Interval Works

### R-R Interval Definition

The **R-R interval** is the time between consecutive R-peaks in the ECG waveform. These peaks correspond to the electrical activity generated by heartbeats.

### How BPM is Calculated

1. **Measure Time Between Peaks**:
   - The ESP32 measures the time between two consecutive R-peaks in milliseconds (R-R interval).

2. **Calculate BPM**:
   - The heart rate in beats per minute (BPM) is calculated using the formula:
     
     
     BPM = 60,000 / R-R Interval (ms)
     
This method ensures that the heart rate reflects the instantaneous pulse detected by the ECG sensor.

---

## üìä Results

![How To Read An EKG (electrocardiograph)](https://github.com/user-attachments/assets/6f80c4a1-2367-4020-9f75-3289014b99e4)
![Screenshot 2024-12-29 140232](https://github.com/user-attachments/assets/62c4b384-568b-46cd-8c73-1bc18745fbaa)
![Screenshot 2024-12-29 150716](https://github.com/user-attachments/assets/1583cc40-8a70-42f0-99f2-b207540960bf)

[![Watch the video](https://img.youtube.com/vi/LcgixkPOPkA/maxresdefault.jpg)](https://youtube.com/shorts/LcgixkPOPkA)

[![Video 1](https://img.youtube.com/vi/PVzQbkZMRp8/maxresdefault.jpg)](https://youtu.be/PVzQbkZMRp8)

[![Video 2](https://img.youtube.com/vi/016TKZdSuOY/maxresdefault.jpg)](https://youtube.com/shorts/016TKZdSuOY?feature=share)

---

## üóã Diary

- Integrated project README
- Switched to ESP32 for data handling via Ubidots for future project scaling
- Created a Python script to read the ECG module data via the ESP32 and made a real-time plot using Matplotlib

**To Do:**
- Integrate accelerometer
- Create functions for fall detection
- Attach display
- Use Ubidots for data storage


---

## üìÇ Source Code and Misc

Placeholder for Source Code and Misc

---

## üìë Additional Documentation

### üîß Detailed Hardware Functionality

| Component            | Pins Used            | Purpose                                   |
|----------------------|----------------------|-------------------------------------------|
| **RGB LED**          | GPIO16 (Red), GPIO17 (Green), GPIO18 (Blue) | Full-color status indication (normal, warning, alert) |
| **ECG Sensor**       | GPIO36 (VP)         | Reads analog heart rate signal           |
| **Accelerometer**    | GPIO21 (SDA), GPIO22 (SCL) | Motion detection via I2C communication   |
| **LCD1602 Display**  | GPIO21 (SDA), GPIO22 (SCL) | Displays real-time metrics via I2C       |
| **Buzzer**           | GPIO26              | Triggers audio alerts                    |

---

## üìö Bibliography and Resources

1. [Arduino IDE Documentation](https://www.arduino.cc/en/Guide)
2. [AD8232 ECG Sensor Datasheet](https://www.analog.com/media/en/technical-documentation/data-sheets/ad8232.pdf)
3. [MPU6050 Accelerometer Module Datasheet](https://www.alldatasheet.com/view.jsp?Searchword=Mpu-6050%20datasheet&gad_source=1&gclid=CjwKCAiApY-7BhBjEiwAQMrrEeIHpV8Z8e906Y5OvtslpqZj430skJS8nmNGwVekbN71cOcSCk0sThoCq5sQAvD_BwE)
4. [ECG Explained Diagram](https://www.pinterest.com/pin/how-to-read-an-ekg-electrocardiograph--67624431877752520/)
